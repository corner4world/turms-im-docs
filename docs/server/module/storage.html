<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Storage Service | Turms Documentation</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.2.0">
    <link rel="preload stylesheet" href="/docs/assets/style.BHGQ7U4S.css" as="style">
    
    <script type="module" src="/docs/assets/app.5bekgGnH.js"></script>
    <link rel="preload" href="/docs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/docs/assets/chunks/framework.ViWktWD6.js">
    <link rel="modulepreload" href="/docs/assets/chunks/theme.PziOlW20.js">
    <link rel="modulepreload" href="/docs/assets/server_module_storage.md.COQVIARu.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/docs/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://raw.githubusercontent.com/turms-im/assets/master/logo/pegion.svg" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>Turms Documentation</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><!----><div class="VPFlyout VPNavBarTranslations translations" data-v-ccf7ddec data-v-88af2de4 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><span class="vpi-languages option-icon" data-v-b6c34ac9></span><!----><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><div class="items" data-v-88af2de4><p class="title" data-v-88af2de4>English</p><!--[--><div class="VPMenuLink" data-v-88af2de4 data-v-43f1e123><a class="VPLink link" href="/docs/zh-CN/server/module/storage.html" data-v-43f1e123><!--[-->简体中文<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/turms-im/turms" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><div class="group translations" data-v-d0bd9dde><p class="trans-title" data-v-d0bd9dde>English</p><!--[--><div class="VPMenuLink" data-v-d0bd9dde data-v-43f1e123><a class="VPLink link" href="/docs/zh-CN/server/module/storage.html" data-v-43f1e123><!--[-->简体中文<!--]--></a></div><!--]--></div><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/turms-im/turms" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><!----><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/index.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/community/index.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Community FAQ</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Business Features</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/feature/index.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Business Features</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/feature/simultaneous-login.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Simultaneous Login</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/feature/user.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>User-related Features</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/feature/group.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Group-related Features</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/feature/message.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Message-related Features</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Design</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/design/architecture.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Architecture Design</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/design/schema.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Collection Schema Design</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/design/status-aware.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Status Awareness</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Server Guide</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><section class="VPSidebarItem level-1" data-v-b8d55f3b data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h3 class="text" data-v-b8d55f3b>Deployment</h3><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/deployment/getting-started.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Build and Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/deployment/distribution.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Distribution</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/deployment/config.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Configuration</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-b8d55f3b data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h3 class="text" data-v-b8d55f3b>Development</h3><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/development/redevelopment.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>About Secondary Development</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/development/rules.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Basic Development Rules</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/development/plugin.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Custom Plugins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/development/code.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Source Code</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/development/testing.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Testing</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 has-active" data-v-b8d55f3b data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h3 class="text" data-v-b8d55f3b>Main Modules</h3><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/module/identity-access-management.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Identity and Access Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/module/cluster.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Cluster Design and Implementation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/module/system-resource-management.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>System Resource Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/module/observability.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Observability</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/module/security.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Security</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/module/xmpp.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>XMPP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/module/storage.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Storage Service</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/module/chatbot.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Chatbot</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/module/anti-spam.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Content Moderation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/server/module/data-analytics.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Data Analysis</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Client Guide</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/client/quick-start.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Quick Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/client/requirements.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Version Requirements</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/client/api.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/client/session.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Session Lifecycle</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/client/metrics.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Metrics</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/client/communication-protocol.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Communication Protocol Used Between Client and Server</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/client/turms-client-js.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>turms-client-js Shared Context</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/client/turms-chat-demo.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Turms Chat Demo</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-b8d55f3b><!----><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/turms-admin.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>turms-admin</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Reference</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/reference/admin-api.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Admin API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/docs/reference/status-code.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Status Code</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-269c27a6><div class="content" data-v-269c27a6><div class="outline-marker" data-v-269c27a6></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-269c27a6>On this page</div><ul class="VPDocOutlineItem root" data-v-269c27a6 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _docs_server_module_storage" data-v-39a288b8><div><h1 id="storage-service" tabindex="-1">Storage Service <a class="header-anchor" href="#storage-service" aria-label="Permalink to &quot;Storage Service&quot;">​</a></h1><p>Turms itself does not directly provide storage services, but opens common interfaces in storage services on the server side for developers to implement themselves, and the Turms client also provides the corresponding storage service <code>turmsClient.storageService</code> API , for developers to call by themselves.</p><p>Notice:</p><ul><li>Developers can completely implement a set of interactive storage logic between the application client and your own server without any interface provided by the Turms client and server. Turms just maintains a set of implementations of common storage services, so that most developers don&#39;t have to develop from scratch. Even if the developer does not intend to use Turms&#39; storage implementation, since each storage service implementation is similar, developers can refer to the Turms storage implementation process to implement their own storage logic to save time for self-development.</li><li>The function provided by the Turms client storage service is a superset of the functions of the official storage service plug-in of the Turms server, namely: the Turms client storage service is designed to interact with the official storage service plug-in of the Turms server, and can also be extended to interact with other third-party plugins to interact.</li></ul><h2 id="plugin-interface-and-configuration" tabindex="-1">Plugin interface and configuration <a class="header-anchor" href="#plugin-interface-and-configuration" aria-label="Permalink to &quot;Plugin interface and configuration&quot;">​</a></h2><p>Storage resources are currently divided into three types, namely: <code>User Profile Picture</code> (user profile picture), <code>Group Profile Picture</code> (group profile picture) and <code>Message Attachment</code> (message attachment). Each resource has its corresponding three function interfaces for adding (modifying), deleting, and checking for developers to implement.</p><h3 id="interface" tabindex="-1">interface <a class="header-anchor" href="#interface" aria-label="Permalink to &quot;interface&quot;">​</a></h3><p>Plugin interface: <code>im.turms.service.infra.plugin.extension.StorageServiceProvider</code></p><p>Interface function introduction:</p><table><thead><tr><th>Resource type</th><th>Function name</th><th>Expected function</th><th>Return value description</th></tr></thead><tbody><tr><td>User Profile Picture</td><td>deleteUserProfilePicture</td><td>Delete User Profile Picture</td><td></td></tr><tr><td></td><td>queryUserProfilePictureUploadInfo</td><td>Query user profile picture upload information</td><td>The return value format is <code>Map&lt;String, String&gt;</code>, the plug-in implementer can customize any return value</td></tr><tr><td></td><td>queryUserProfilePictureDownloadInfo</td><td>Query user profile picture download information</td><td>The return value format is <code>Map&lt;String, String&gt;</code>, the plug-in implementer can customize any return value</td></tr><tr><td>Group Profile Picture</td><td>deleteGroupProfilePicture</td><td>Delete Group Profile Picture</td><td></td></tr><tr><td></td><td>queryGroupProfilePictureUploadInfo</td><td>Query group profile picture upload information</td><td>The return value format is <code>Map&lt;String, String&gt;</code>, plug-in implementers can customize any return value</td></tr><tr><td></td><td>queryGroupProfilePictureDownloadInfo</td><td>Query group profile picture download information</td><td>The return value format is <code>Map&lt;String, String&gt;</code>, plug-in implementers can customize any return value</td></tr><tr><td>message attachment</td><td>deleteMessageAttachment</td><td>delete message attachment</td><td></td></tr><tr><td></td><td>shareMessageAttachmentWithUser</td><td>share message attachment with specified user</td><td></td></tr><tr><td></td><td>shareMessageAttachmentWithGroup</td><td>Share the message attachment with the specified group</td><td></td></tr><tr><td></td><td>unshareMessageAttachmentWithUser</td><td>No longer share the message attachment with the specified user</td><td></td></tr><tr><td></td><td>unshareMessageAttachmentWithGroup</td><td>No longer share the message attachment with the specified group</td><td></td></tr><tr><td></td><td>queryMessageAttachmentUploadInfo</td><td>Query message attachment upload information</td><td>The return value format is <code>Map&lt;String, String&gt;</code>, and plug-in implementers can customize any return value</td></tr><tr><td></td><td>queryMessageAttachmentUploadInfoInPrivateConversation</td><td>Query message attachment upload information in a private chat session</td><td></td></tr><tr><td></td><td>queryMessageAttachmentUploadInfoInGroupConversation</td><td>Query message attachment upload information in a group chat session</td><td></td></tr><tr><td></td><td>queryMessageAttachmentDownloadInfo</td><td>Query message attachment download information</td><td>The return value format is <code>Map&lt;String, String&gt;</code>, and plug-in implementers can customize any return value</td></tr><tr><td></td><td>queryMessageAttachmentInfosUploadedByRequester</td><td>Query the message attachment uploaded by the requester</td><td></td></tr><tr><td></td><td>queryMessageAttachmentInfosInPrivateConversations</td><td>Query message attachments in private chat sessions</td><td></td></tr><tr><td></td><td>queryMessageAttachmentInfosInGroupConversations</td><td>Query message attachments in group chat conversations</td><td></td></tr></tbody></table><h3 id="general-configuration" tabindex="-1">General configuration <a class="header-anchor" href="#general-configuration" aria-label="Permalink to &quot;General configuration&quot;">​</a></h3><table><thead><tr><th>Configuration item</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td>turms.service.storage.user-profile-picture.expire-after-days</td><td>0</td><td>The expiration time (in days) of the resource since the creation time. A value of 0 means no expiration</td></tr><tr><td>turms.service.storage.user-profile-picture.allowed-referrers</td><td>Empty</td><td>Only allow specified Referrers to access resources</td></tr><tr><td>turms.service.storage.user-profile-picture.allowed-content-type</td><td><code>*/*</code></td><td>Allowed resource <code>Content-Type</code> for upload. <code>*/*</code> values represent unlimited</td></tr><tr><td>turms.service.storage.user-profile-picture.min-size-bytes</td><td>0</td><td>The minimum size of resources allowed to be uploaded. A value of 0 means unlimited</td></tr><tr><td>turms.service.storage.user-profile-picture.max-size-bytes</td><td>1MB</td><td>The maximum size of resources allowed to be uploaded. A value of 0 means unlimited</td></tr><tr><td>turms.service.storage.user-profile-picture.download-url-expire-after-seconds</td><td>300</td><td>Expiration time of resource download URL (seconds)</td></tr><tr><td>turms.service.storage.user-profile-picture.upload-url-expire-after-seconds</td><td>300</td><td>Expiration time of resource upload URL (seconds)</td></tr><tr><td>turms.service.storage.group-profile-picture....</td><td></td><td>Same as turms.service.storage.user-profile-picture</td></tr><tr><td>turms.service.storage.message-attachment....</td><td></td><td>Same as turms.service.storage.user-profile-picture</td></tr></tbody></table><h2 id="official-plugin-implementation" tabindex="-1">Official plugin implementation <a class="header-anchor" href="#official-plugin-implementation" aria-label="Permalink to &quot;Official plugin implementation&quot;">​</a></h2><h3 id="bucket-basic-design-guidelines" tabindex="-1">Bucket Basic Design Guidelines <a class="header-anchor" href="#bucket-basic-design-guidelines" aria-label="Permalink to &quot;Bucket Basic Design Guidelines&quot;">​</a></h3><p>Since the functions provided by the object storage service are similar, the official plug-ins based on the object storage service provided by Turms at present and in the future will follow the following Bucket design guidelines.</p><p>As mentioned above, Turms currently includes three types of storage resources, namely <code>User Profile Picture</code> (user profile picture), <code>Group Profile Picture</code> (group profile picture) and <code>Message Attachment</code> (message attachment), which correspond to The bucket names are <code>user-profile-picture</code>, <code>group-profile-picture</code> and <code>message-attachment</code> respectively. in:</p><ul><li><code>user-profile-picture</code> and <code>group-profile-picture</code> are public Buckets. For the URLs of these resources, Turms not only supports the generation of regular URLs to allow the client to predict resource URLs by itself, avoiding sending requests to the Turms server to query resource URLs, but also supports the generation of irregular URLs for anti-crawlers. Which URL your application needs to use depends on your product requirements.</li><li><code>message-attachment</code> is a private Bucket that provides authorized users with a URL for temporary access to message attachments through Presigned URLs.</li><li>The upload process of all resources is based on providing authorized users with a temporary Multipart Upload interface through the Presigned URL.</li></ul><p>Of course, the above are only the default configurations. The current mainstream object storage services support many practical features, such as separate storage of hot and cold data (such as Amazon S3 Intelligent-Tiering Storage Class), encryption, complex permission control, etc., users can create in Turms On the basis of Buckets, further configuration is performed through the object storage service.</p><p>###turms-plugin-minio</p><h4 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h4><p>turms-plugin-minio is a turms-service storage service implementation plugin developed based on the open source object storage service <a href="https://min.io" target="_blank" rel="noreferrer">MinIO</a>.</p><h4 id="install" tabindex="-1">Install <a class="header-anchor" href="#install" aria-label="Permalink to &quot;Install&quot;">​</a></h4><ul><li><a href="https://min.io/download" target="_blank" rel="noreferrer">Download and installation of MinIO server</a></li><li><a href="https://turms-im.github.io/docs/server/development/plugin#%E6%8F%92%E4%BB%B6%E5%8A%A0%E8%BD%BD%E6%96%B9%E5%BC%8F" target="_blank" rel="noreferrer">How to load the plugin</a></li></ul><p>After the plug-in is <code>Started</code> on the server side, the client can call the corresponding API under <code>turmsClient.storageService</code> to add, delete, modify, and query storage resources.</p><h4 id="precautions-when-the-client-calls-the-storage-related-interface" tabindex="-1">Precautions when the client calls the storage-related interface <a class="header-anchor" href="#precautions-when-the-client-calls-the-storage-related-interface" aria-label="Permalink to &quot;Precautions when the client calls the storage-related interface&quot;">​</a></h4><p>Since the storage interface of the Turms client adopts a general-purpose interface design and is not customized for turms-plugin-minio, you need to pay attention to the following when calling the client API:</p><ul><li>When calling the <code>queryMessageAttachment</code> interface, the parameter <code>fetchDownloadInfo</code> must be <code>true</code>; when calling the <code>queryMessageAttachmentDownloadInfo</code> interface, the parameter <code>fetch</code> must be <code>true</code>.</li></ul><h4 id="business-functions" tabindex="-1">Business functions <a class="header-anchor" href="#business-functions" aria-label="Permalink to &quot;Business functions&quot;">​</a></h4><h5 id="message-attachment-function" tabindex="-1">Message attachment function <a class="header-anchor" href="#message-attachment-function" aria-label="Permalink to &quot;Message attachment function&quot;">​</a></h5><h6 id="upload-message-attachment" tabindex="-1">Upload message attachment <a class="header-anchor" href="#upload-message-attachment" aria-label="Permalink to &quot;Upload message attachment&quot;">​</a></h6><table><thead><tr><th>Features</th><th>Support</th></tr></thead><tbody><tr><td>Do not specify any session, upload message attachment</td><td>TODO</td></tr><tr><td>Upload message attachments to a specific private chat session</td><td>✔</td></tr><tr><td>Upload message attachments to multiple private chat sessions</td><td></td></tr><tr><td>Upload message attachments to a specific group chat session</td><td>✔</td></tr><tr><td>Upload message attachments to specified multiple group chat sessions</td><td></td></tr></tbody></table><h6 id="delete-message-attachment" tabindex="-1">Delete message attachment <a class="header-anchor" href="#delete-message-attachment" aria-label="Permalink to &quot;Delete message attachment&quot;">​</a></h6><table><thead><tr><th>Features</th><th>Support</th></tr></thead><tbody><tr><td>Delete message attachments in any conversation</td><td>TODO</td></tr></tbody></table><h6 id="share-and-unshare" tabindex="-1">Share and Unshare <a class="header-anchor" href="#share-and-unshare" aria-label="Permalink to &quot;Share and Unshare&quot;">​</a></h6><table><thead><tr><th>Features</th><th>Support</th></tr></thead><tbody><tr><td>Share uploaded message attachments to a single private chat session</td><td>✔</td></tr><tr><td>Share uploaded message attachments to multiple private chat sessions</td><td></td></tr><tr><td>Share uploaded message attachments to a single group chat session</td><td>✔</td></tr><tr><td>Share uploaded message attachments to multiple group chat sessions</td><td></td></tr><tr><td>Cancel sharing of uploaded message attachments to a single private chat session</td><td>TODO</td></tr><tr><td>Unshare uploaded message attachments to multiple private chat sessions</td><td></td></tr><tr><td>Share uploaded message attachments to a single group chat session</td><td>TODO</td></tr><tr><td>Share uploaded message attachments to multiple group chat sessions</td><td></td></tr></tbody></table><p>For more advanced sharing functions, such as detailed permission control, custom sharing duration, encrypted sharing and other functions, there is no plan to support them in the near future.</p><h5 id="inquire" tabindex="-1">Inquire <a class="header-anchor" href="#inquire" aria-label="Permalink to &quot;Inquire&quot;">​</a></h5><table><thead><tr><th>Features</th><th>Support</th></tr></thead><tbody><tr><td>Specify the attachments that the other party shared with me in a single private chat session</td><td>✔</td></tr><tr><td>Specify the attachments I send to the other party in a single private chat session</td><td>✔</td></tr><tr><td>Specify the attachments that the other party shared with me and the attachments I sent to the other party in a single private chat session</td><td>✔</td></tr><tr><td>Specify the attachments that the other party shared with me in multiple private chat sessions</td><td></td></tr><tr><td>Specify the attachments I send to each other in multiple private chat sessions</td><td></td></tr><tr><td>Specify the attachments shared by the other party to me and the attachments I send to the other party in multiple private chat sessions</td><td></td></tr><tr><td>Attachments shared to me in all private chat sessions</td><td></td></tr><tr><td>The attachments I sent to the other party in all private chat sessions</td><td>Does not support &quot;only query the attachments I sent to the other party in the private chat session&quot;, but supports &quot;in all sessions, the attachments I shared&quot;</td></tr><tr><td>In all private chat sessions, the attachments shared by the other party to me and the attachments I sent to the other party</td><td></td></tr><tr><td></td><td></td></tr><tr><td>Specify attachments shared by a single user (can be myself) in a single group chat session</td><td>✔</td></tr><tr><td>Specify attachments shared by multiple users (including myself) in a single group chat session</td><td>✔</td></tr><tr><td>Specifies attachments shared by all users (including myself) in a single group chat session</td><td>✔</td></tr><tr><td>Specify attachments shared by a single user (can be myself) in multiple group chat sessions</td><td></td></tr><tr><td>Specify attachments shared by multiple users (including myself) in multiple group chat sessions</td><td></td></tr><tr><td>Specify attachments shared by all users (including myself) in multiple group chat sessions</td><td></td></tr><tr><td>In all group chat sessions, specify the attachments shared by a single user</td><td>Does not support &quot;In all group chat sessions, specify the attachments I share&quot;, but supports &quot;In all sessions, the attachments I share&quot;</td></tr><tr><td>In all group chat sessions, specify attachments shared by multiple users (can include myself)</td><td></td></tr><tr><td>Attachments shared by all users (including myself) in all group chat sessions</td><td></td></tr><tr><td></td><td></td></tr><tr><td>Across all conversations, my shared attachments</td><td>✔</td></tr><tr><td>Across all sessions, various other query objects</td><td></td></tr></tbody></table><h4 id="permission-control" tabindex="-1">Permission Control <a class="header-anchor" href="#permission-control" aria-label="Permalink to &quot;Permission Control&quot;">​</a></h4><ul><li><p>View message attachments</p><ul><li><p>Regardless of whether users who send message attachments log out of the private chat or group chat session, they always have the right to query the message attachments they uploaded.</p><p>And even if the user who uploaded the message attachment exits the session, all other users in the session still have the right to view the message attachment uploaded by the user.</p></li><li><p>Users have and can only view message attachments shared by other users in the private chat or group chat session they have joined. In other words, if a user joins a session and then logs out, the logged out user cannot view attachments in that session. Only when the user joins the session again can he have the right to view the attachments in the session again.</p></li></ul></li></ul><h4 id="safety" tabindex="-1">Safety <a class="header-anchor" href="#safety" aria-label="Permalink to &quot;Safety&quot;">​</a></h4><p>Upload limit: TODO</p><h4 id="store-file-data-verification" tabindex="-1">Store file data verification <a class="header-anchor" href="#store-file-data-verification" aria-label="Permalink to &quot;Store file data verification&quot;">​</a></h4><p>If the data verification of stored files is implemented based on cloud services, the implementation of the logic will be relatively simple. For example, on AWS, you can trigger a custom Lambda function to verify the data uploaded by the user through the S3 event notification, or add a Lambda@Edge function that listens to the <code>origin-response</code> event on the CloudFront side for verification, except The custom verification logic needs to write some codes, and other functions can basically be realized by clicking the mouse.</p><p>However, as an independent storage service, MinIO does not support serverless architecture features such as Lambda functions. Compared with serverless solutions, it is much more troublesome to implement low-cost and highly available data verification logic based on MinIO&#39;s event mechanism. Therefore, Turms does not currently support data verification of stored files. Support will follow.</p><h4 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h4><table><thead><tr><th>Configuration item</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td>turms-plugin.minio.enabled</td><td>true</td><td>Whether to enable the plugin</td></tr><tr><td>turms-plugin.minio.endpoint</td><td>&quot;<a href="http://localhost:9000" target="_blank" rel="noreferrer">http://localhost:9000</a>&quot;</td><td>MinIO server address</td></tr><tr><td>turms-plugin.minio.region</td><td>&quot;&quot;</td><td>MinIO server region</td></tr><tr><td>turms-plugin.minio.access-key</td><td>minioadmin</td><td>Access Key for MinIO server</td></tr><tr><td>turms-plugin.minio.secret-key</td><td>minioadmin</td><td>Secret Key of MinIO server</td></tr><tr><td>turms-plugin.minio.retry.enabled</td><td>true</td><td>Whether to retry when initialization of Buckets fails</td></tr><tr><td>turms-plugin.minio.retry.initial-interval-millis</td><td>30_000</td><td>Initial retry interval when buckets initialization fails</td></tr><tr><td>turms-plugin.minio.retry.interval-millis</td><td>30_000</td><td>The retry interval when initializing Buckets fails</td></tr><tr><td>turms-plugin.minio.retry.max-attempts</td><td>3</td><td>When buckets initialization fails, the maximum number of retries</td></tr><tr><td>turms-plugin.minio.resource-id.mac.enabled</td><td>false</td><td>Whether to encrypt the Object Key of the resource with the MAC algorithm to generate unpredictable URLs to prevent crawlers. <br>If this item is not enabled, the user can obtain the corresponding image URL through the user ID or group ID<br>The final resource URL is: <code>&lt;bucket&gt;/&lt;base62(object key)&gt;&lt;base62( mac(object key))&gt;</code>. Such as <code>user-profile-picture/123456789</code> =&gt; <code>user-profile-picture/8M0kX1aEllpuvXRV09grkIEtD4R</code><br>Note: If the MAC algorithm is enabled, the client must pass the parameter <code>fetch</code> when calling <code>queryXXXDownloadInfo</code> series interfaces Set to <code>true</code>; when calling <code>queryXXX</code> series interfaces, the parameter <code>fetchDownloadInfo</code> must be set to <code>true</code></td></tr><tr><td>turms-plugin.minio.resource-id.mac.base64-key</td><td>&quot;AHR1cm1zLWltL3R1cm1zgA==&quot;</td><td>Base64 encoded MAC algorithm key</td></tr><tr><td>turms-plugin.minio.resource-id.base62.enabled</td><td>false</td><td>Whether to encode the Object Key of the resource with Base62 algorithm to shorten the length of the URL. <br>The final resource URL is: <code>&lt;bucket&gt;/&lt;base62(object key)&gt;</code>, or <code>&lt;bucket&gt;/&lt;base62(object key)&gt;&lt;base62(mac(object key))&gt;</code>. Such as <code>user-profile-picture/123456789</code> =&gt; <code>message-attachment/8M0kX</code> or <code>user-profile-picture/8M0kX1aEllpuvXRV09grkIEtD4R</code><br>Note: 1. When <code>turms-plugin.minio.resource-key.mac When .enabled</code> is <code>true</code>, the Base62 algorithm will always be applied. <br>2. If the Base62 algorithm is enabled, the client must set the parameter <code>fetch</code> to <code>true</code> when calling the <code>queryXXXDownloadInfo</code> series interface; when calling the <code>queryXXX</code> series interface, it must set the parameter <code>fetchDownloadInfo</code> set to <code>true</code></td></tr><tr><td>turms-plugin.minio.resource-id.base62.charset</td><td>...</td><td>Character set for Base62 algorithm</td></tr></tbody></table></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-d4a0bba5><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d4a0bba5><span class="visually-hidden" id="doc-footer-aria-label" data-v-d4a0bba5>Pager</span><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link prev" href="/docs/server/module/xmpp.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Previous page</span><span class="title" data-v-d4a0bba5>XMPP</span><!--]--></a></div><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link next" href="/docs/server/module/chatbot.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Next page</span><span class="title" data-v-d4a0bba5>Chatbot</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"feature_simultaneous-login.md\":\"Dv5WDZ3P\",\"client_metrics.md\":\"DgvBnv9p\",\"zh-cn_feature_simultaneous-login.md\":\"Yzt39a3I\",\"client_quick-start.md\":\"Cx9CJs0m\",\"design_status-aware.md\":\"3bmGc5hr\",\"server_module_security.md\":\"CBWTWKsk\",\"zh-cn_server_deployment_distribution.md\":\"DT8RbeaJ\",\"zh-cn_server_module_xmpp.md\":\"DRu0ycXL\",\"zh-cn_server_module_chatbot.md\":\"CFanzC5_\",\"zh-cn_server_module_identity-access-management.md\":\"C5hUtNHe\",\"zh-cn_server_module_data-analytics.md\":\"D6sYc0XT\",\"zh-cn_server_module_observability.md\":\"BDZgjvG6\",\"zh-cn_server_development_code.md\":\"DhvxCHG7\",\"zh-cn_server_module_storage.md\":\"CxdFKvfK\",\"zh-cn_turms-admin.md\":\"CMUtegqM\",\"server_module_anti-spam.md\":\"Ct-j2gvT\",\"feature_message.md\":\"DPG3J4AR\",\"server_module_data-analytics.md\":\"DOIqHdTR\",\"client_session.md\":\"cERMfOfD\",\"server_development_plugin.md\":\"F6ZhUybT\",\"server_development_code.md\":\"xWHpI5qz\",\"feature_group.md\":\"C7OIdEhg\",\"feature_user.md\":\"D4BOVc3K\",\"server_deployment_config.md\":\"Cmn1CbP9\",\"server_module_chatbot.md\":\"Bt9UM6bH\",\"feature_index.md\":\"DIYY6KB5\",\"server_development_testing.md\":\"Bv6zFIhE\",\"client_turms-client-js.md\":\"B-iSLAom\",\"server_development_rules.md\":\"CB4MA8-Z\",\"zh-cn_client_metrics.md\":\"BIMuTxkp\",\"zh-cn_index.md\":\"DPc5b3ha\",\"zh-cn_reference_admin-api.md\":\"De8-D2e6\",\"client_communication-protocol.md\":\"19fqc3rc\",\"server_module_storage.md\":\"COQVIARu\",\"server_module_system-resource-management.md\":\"F-_CQdCl\",\"zh-cn_client_session.md\":\"Dj26WvD7\",\"server_module_xmpp.md\":\"DDfiHQx_\",\"zh-cn_client_quick-start.md\":\"CGHeOh7U\",\"zh-cn_client_requirements.md\":\"CGlXV8Hy\",\"turms-admin.md\":\"9LJIDghC\",\"zh-cn_client_api.md\":\"DEqPhkFh\",\"zh-cn_client_communication-protocol.md\":\"CPUhuAV6\",\"reference_status-code.md\":\"Bf8rzK-V\",\"server_module_observability.md\":\"CsS2LW7_\",\"zh-cn_client_turms-client-js.md\":\"6xpWt-YU\",\"zh-cn_client_turms-chat-demo.md\":\"CVgBfyVl\",\"community_index.md\":\"BDiy7zSc\",\"server_deployment_getting-started.md\":\"CnIQHSBp\",\"zh-cn_community_index.md\":\"BV_rFjnT\",\"zh-cn_server_deployment_getting-started.md\":\"tGsvYK1n\",\"server_deployment_distribution.md\":\"BtNqIqjJ\",\"zh-cn_design_architecture.md\":\"ISY6gZq-\",\"zh-cn_server_development_plugin.md\":\"B3Jr7Kwa\",\"zh-cn_server_development_redevelopment.md\":\"BSaKvZUz\",\"zh-cn_server_module_anti-spam.md\":\"B2XFpQwP\",\"zh-cn_server_development_rules.md\":\"DlKaQigf\",\"zh-cn_server_development_testing.md\":\"Ccj3PX8j\",\"design_architecture.md\":\"C5IK87nB\",\"zh-cn_server_deployment_config.md\":\"2b797jGV\",\"index.md\":\"C5NYzOJd\",\"zh-cn_server_module_system-resource-management.md\":\"BrmFpZkM\",\"reference_admin-api.md\":\"DnI9tYBp\",\"server_development_redevelopment.md\":\"ZOTX-QI7\",\"zh-cn_server_module_cluster.md\":\"BgAb3VQO\",\"zh-cn_server_module_security.md\":\"DC-z9kbp\",\"client_requirements.md\":\"DBzVoZij\",\"zh-cn_feature_index.md\":\"BX4laEtI\",\"zh-cn_feature_group.md\":\"C5OVfQ27\",\"client_api.md\":\"BjNRb0s8\",\"design_schema.md\":\"B-OsSPf2\",\"zh-cn_design_schema.md\":\"_4ZJZ_nW\",\"server_module_cluster.md\":\"DrSh-fmu\",\"zh-cn_reference_status-code.md\":\"Dg8KqdUK\",\"zh-cn_feature_user.md\":\"DR5LmjKU\",\"zh-cn_design_status-aware.md\":\"DZSSltLb\",\"zh-cn_feature_message.md\":\"Dto7crLm\",\"client_turms-chat-demo.md\":\"DHNv3FfS\",\"server_module_identity-access-management.md\":\"KTa7q2p7\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Turms Documentation\",\"description\":\"A VitePress site\",\"base\":\"/docs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"https://raw.githubusercontent.com/turms-im/assets/master/logo/pegion.svg\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/turms-im/turms\"}],\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"WV3XO0QV2E\",\"apiKey\":\"f7a7c652875d1f2cc0f0ec52d8f8f660\",\"indexName\":\"turms-imio\",\"locales\":{\"zh-CN\":{\"placeholder\":\"搜索\",\"translations\":{\"button\":{\"buttonText\":\"搜索\",\"buttonAriaLabel\":\"搜索\"},\"modal\":{\"searchBox\":{\"resetButtonTitle\":\"重置查询\",\"resetButtonAriaLabel\":\"重置查询\",\"cancelButtonText\":\"取消\",\"cancelButtonAriaLabel\":\"取消\"},\"startScreen\":{\"recentSearchesTitle\":\"搜索历史\",\"noRecentSearchesText\":\"没有搜索历史\",\"saveRecentSearchButtonTitle\":\"保存至搜索历史\",\"removeRecentSearchButtonTitle\":\"从搜索历史中移除\",\"favoriteSearchesTitle\":\"收藏\",\"removeFavoriteSearchButtonTitle\":\"从收藏中移除\"},\"errorScreen\":{\"titleText\":\"无法获取搜索结果\",\"helpText\":\"请检查网络连接\"},\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\",\"searchByText\":\"搜索提供者\"},\"noResultsScreen\":{\"noResultsText\":\"没有找到相关结果\",\"suggestedQueryText\":\"您可能想搜索\",\"reportMissingResultsLinkText\":\"点击反馈\",\"reportMissingResultsText\":\"没有找到结果？请报告缺失\"}}}}}}}},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en\",\"themeConfig\":{\"sidebar\":[{\"text\":\"Introduction\",\"link\":\"/index.md\"},{\"text\":\"Community FAQ\",\"link\":\"/community/index.md\"},{\"text\":\"Business Features\",\"collapsed\":true,\"items\":[{\"text\":\"Business Features\",\"link\":\"/feature/index.md\"},{\"text\":\"Simultaneous Login\",\"link\":\"/feature/simultaneous-login.md\"},{\"text\":\"User-related Features\",\"link\":\"/feature/user.md\"},{\"text\":\"Group-related Features\",\"link\":\"/feature/group.md\"},{\"text\":\"Message-related Features\",\"link\":\"/feature/message.md\"}]},{\"text\":\"Design\",\"collapsed\":true,\"items\":[{\"text\":\"Architecture Design\",\"link\":\"/design/architecture.md\"},{\"text\":\"Collection Schema Design\",\"link\":\"/design/schema.md\"},{\"text\":\"Status Awareness\",\"link\":\"/design/status-aware.md\"}]},{\"text\":\"Server Guide\",\"collapsed\":true,\"items\":[{\"text\":\"Deployment\",\"items\":[{\"text\":\"Build and Start\",\"link\":\"/server/deployment/getting-started.md\"},{\"text\":\"Distribution\",\"link\":\"/server/deployment/distribution.md\"},{\"text\":\"Configuration\",\"link\":\"/server/deployment/config.md\"}]},{\"text\":\"Development\",\"items\":[{\"text\":\"About Secondary Development\",\"link\":\"/server/development/redevelopment.md\"},{\"text\":\"Basic Development Rules\",\"link\":\"/server/development/rules.md\"},{\"text\":\"Custom Plugins\",\"link\":\"/server/development/plugin.md\"},{\"text\":\"Source Code\",\"link\":\"/server/development/code.md\"},{\"text\":\"Testing\",\"link\":\"/server/development/testing.md\"}]},{\"text\":\"Main Modules\",\"items\":[{\"text\":\"Identity and Access Management\",\"link\":\"/server/module/identity-access-management.md\"},{\"text\":\"Cluster Design and Implementation\",\"link\":\"/server/module/cluster.md\"},{\"text\":\"System Resource Management\",\"link\":\"/server/module/system-resource-management.md\"},{\"text\":\"Observability\",\"link\":\"/server/module/observability.md\"},{\"text\":\"Security\",\"link\":\"/server/module/security.md\"},{\"text\":\"XMPP\",\"link\":\"/server/module/xmpp.md\"},{\"text\":\"Storage Service\",\"link\":\"/server/module/storage.md\"},{\"text\":\"Chatbot\",\"link\":\"/server/module/chatbot.md\"},{\"text\":\"Content Moderation\",\"link\":\"/server/module/anti-spam.md\"},{\"text\":\"Data Analysis\",\"link\":\"/server/module/data-analytics.md\"}]}]},{\"text\":\"Client Guide\",\"collapsed\":true,\"items\":[{\"text\":\"Quick Start\",\"link\":\"/client/quick-start.md\"},{\"text\":\"Version Requirements\",\"link\":\"/client/requirements.md\"},{\"text\":\"API\",\"link\":\"/client/api.md\"},{\"text\":\"Session Lifecycle\",\"link\":\"/client/session.md\"},{\"text\":\"Metrics\",\"link\":\"/client/metrics.md\"},{\"text\":\"Communication Protocol Used Between Client and Server\",\"link\":\"/client/communication-protocol.md\"},{\"text\":\"turms-client-js Shared Context\",\"link\":\"/client/turms-client-js.md\"},{\"text\":\"Turms Chat Demo\",\"link\":\"/client/turms-chat-demo.md\"}]},{\"text\":\"turms-admin\",\"link\":\"/turms-admin.md\"},{\"text\":\"Reference\",\"collapsed\":true,\"items\":[{\"text\":\"Admin API\",\"link\":\"/reference/admin-api.md\"},{\"text\":\"Status Code\",\"link\":\"/reference/status-code.md\"}]}]}},\"zh-CN\":{\"label\":\"简体中文\",\"lang\":\"zh-CN\",\"themeConfig\":{\"lastUpdatedText\":\"上次更新\",\"outline\":{\"label\":\"当前页\"},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"sidebar\":[{\"text\":\"介绍\",\"link\":\"/zh-CN/index.md\"},{\"text\":\"社区常见问题\",\"link\":\"/zh-CN/community/index.md\"},{\"text\":\"业务功能\",\"collapsed\":true,\"items\":[{\"text\":\"业务功能介绍\",\"link\":\"/zh-CN/feature/index.md\"},{\"text\":\"多端登录\",\"link\":\"/zh-CN/feature/simultaneous-login.md\"},{\"text\":\"用户相关功能\",\"link\":\"/zh-CN/feature/user.md\"},{\"text\":\"群组相关功能\",\"link\":\"/zh-CN/feature/group.md\"},{\"text\":\"消息相关功能\",\"link\":\"/zh-CN/feature/message.md\"}]},{\"text\":\"设计\",\"collapsed\":true,\"items\":[{\"text\":\"架构设计\",\"link\":\"/zh-CN/design/architecture.md\"},{\"text\":\"集合结构设计\",\"link\":\"/zh-CN/design/schema.md\"},{\"text\":\"状态感知\",\"link\":\"/zh-CN/design/status-aware.md\"}]},{\"text\":\"服务端指南\",\"collapsed\":true,\"items\":[{\"text\":\"部署\",\"items\":[{\"text\":\"搭建与启动\",\"link\":\"/zh-CN/server/deployment/getting-started.md\"},{\"text\":\"发布\",\"link\":\"/zh-CN/server/deployment/distribution.md\"},{\"text\":\"配置参数\",\"link\":\"/zh-CN/server/deployment/config.md\"}]},{\"text\":\"开发\",\"items\":[{\"text\":\"关于二次开发\",\"link\":\"/zh-CN/server/development/redevelopment.md\"},{\"text\":\"基本开发规约\",\"link\":\"/zh-CN/server/development/rules.md\"},{\"text\":\"自定义插件\",\"link\":\"/zh-CN/server/development/plugin.md\"},{\"text\":\"源码\",\"link\":\"/zh-CN/server/development/code.md\"},{\"text\":\"测试\",\"link\":\"/zh-CN/server/development/testing.md\"}]},{\"text\":\"主要模块\",\"items\":[{\"text\":\"身份与访问管理\",\"link\":\"/zh-CN/server/module/identity-access-management.md\"},{\"text\":\"集群的设计与实现\",\"link\":\"/zh-CN/server/module/cluster.md\"},{\"text\":\"系统资源管理\",\"link\":\"/zh-CN/server/module/system-resource-management.md\"},{\"text\":\"可观测性体系\",\"link\":\"/zh-CN/server/module/observability.md\"},{\"text\":\"安全\",\"link\":\"/zh-CN/server/module/security.md\"},{\"text\":\"XMPP\",\"link\":\"/zh-CN/server/module/xmpp.md\"},{\"text\":\"存储服务\",\"link\":\"/zh-CN/server/module/storage.md\"},{\"text\":\"聊天机器人\",\"link\":\"/zh-CN/server/module/chatbot.md\"},{\"text\":\"敏感词过滤\",\"link\":\"/zh-CN/server/module/anti-spam.md\"},{\"text\":\"数据分析\",\"link\":\"/zh-CN/server/module/data-analytics.md\"}]}]},{\"text\":\"客户端指南\",\"collapsed\":true,\"items\":[{\"text\":\"Quick Start\",\"link\":\"/zh-CN/client/quick-start.md\"},{\"text\":\"版本要求\",\"link\":\"/zh-CN/client/requirements.md\"},{\"text\":\"接口\",\"link\":\"/zh-CN/client/api.md\"},{\"text\":\"会话的生命周期\",\"link\":\"/zh-CN/client/session.md\"},{\"text\":\"度量数据\",\"link\":\"/zh-CN/client/metrics.md\"},{\"text\":\"与服务端通信时使用的数据格式\",\"link\":\"/zh-CN/client/communication-protocol.md\"},{\"text\":\"turms-client-js共享上下文\",\"link\":\"/zh-CN/client/turms-client-js.md\"},{\"text\":\"Turms Chat Demo\",\"link\":\"/zh-CN/client/turms-chat-demo.md\"}]},{\"text\":\"turms-admin\",\"link\":\"/zh-CN/turms-admin.md\"},{\"text\":\"手册\",\"collapsed\":true,\"items\":[{\"text\":\"管理员API接口\",\"link\":\"/zh-CN/reference/admin-api.md\"},{\"text\":\"状态码\",\"link\":\"/zh-CN/reference/status-code.md\"}]}]}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>