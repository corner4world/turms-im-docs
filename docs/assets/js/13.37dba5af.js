(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{367:function(t,e,r){"use strict";r.r(e);var s=r(25),v=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"管理员api接口"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#管理员api接口"}},[t._v("#")]),t._v(" 管理员API接口")]),t._v(" "),r("p",[t._v("Turms的API文档采用"),r("a",{attrs:{href:"https://github.com/springfox/springfox",target:"_blank",rel:"noopener noreferrer"}},[t._v("Springfox"),r("OutboundLink")],1),t._v(" 3.X实现，并采用OpenAPI 3.0标准。")]),t._v(" "),r("p",[t._v("如果您需要查阅具体API的接口文档，则您需要在dist/config/application.yaml配置文件下，添加springfox.documentation.enabled属性，并赋值为true（dev profile下该属性默认为true）。在启动turms服务端后，访问 http://localhost:8510/swagger-ui/index.html 即可查阅API接口。如果您需要OpenAPI标准下API接口的JSON数据，可访问 http://localhost:8510/v3/api-docs 获取。")]),t._v(" "),r("h2",{attrs:{id:"接口设计准则"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#接口设计准则"}},[t._v("#")]),t._v(" 接口设计准则")]),t._v(" "),r("p",[t._v("为了让接口顾名思义，保证开发者能一目了然，turms的管理接口设计在参考"),r("a",{attrs:{href:"https://en.wikipedia.org/wiki/Representational_state_transfer",target:"_blank",rel:"noopener noreferrer"}},[t._v("RESTful"),r("OutboundLink")],1),t._v("设计上做了进一步优化与统一，具体遵循以下准则：")]),t._v(" "),r("ul",[r("li",[t._v("URL的路径部分代表目标资源（如“/users/relationships”），或是资源的表现形式（如“/users/relationships/page”表示以分页的形式返回资源）")]),t._v(" "),r("li",[t._v("POST方法用于Create资源，DELETE方法用于Delete资源，PUT方法用于Update资源，GET方法用于Query资源，以及比较特殊的HEAD方法用于Check资源（类似于GET，但无Response body，仅通过HTTP状态码交互）")]),t._v(" "),r("li",[t._v("请求的Query string用于定位资源或是附加指令。如：“?ids=1,2,3”（定位资源）或“?reset=true”（附加指令）")]),t._v(" "),r("li",[t._v("请求的Body用于描述要创建或更新的数据")])]),t._v(" "),r("h2",{attrs:{id:"使用管理接口的对象"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用管理接口的对象"}},[t._v("#")]),t._v(" 使用管理接口的对象")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("您的前端管理系统或后端服务端发出HTTP(S)请求进行调用")])]),t._v(" "),r("li",[r("p",[t._v("作为内容统计管理系统与集群监控管理系统的"),r("a",{attrs:{href:"https://github.com/turms-im/turms/tree/develop/turms-admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("turms-admin"),r("OutboundLink")],1),t._v("使用")])])]),t._v(" "),r("p",[t._v("注意：管理接口不是给终端用户使用的，而是您团队内部进行调用的。因此您通常不需要给Turms服务端开放外网IP与端口。")]),t._v(" "),r("h2",{attrs:{id:"类别"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#类别"}},[t._v("#")]),t._v(" 类别")]),t._v(" "),r("h3",{attrs:{id:"非业务相关类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#非业务相关类"}},[t._v("#")]),t._v(" 非业务相关类")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",{staticStyle:{"text-align":"left"}},[r("strong",[t._v("种类")])]),t._v(" "),r("th",{staticStyle:{"text-align":"left"}},[r("strong",[t._v("Controller")])]),t._v(" "),r("th",[t._v("路径")]),t._v(" "),r("th",[r("strong",[t._v("补充")])])])]),t._v(" "),r("tbody",[r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("管理员管理")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("AdminController")]),t._v(" "),r("td",[t._v("/admins")]),t._v(" "),r("td",[t._v("每个Turms集群默认存在一个角色为“ROOT”，账号与密码均为“turms”")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("管理员角色管理")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("AdminRoleController")]),t._v(" "),r("td",[t._v("/admins/roles")]),t._v(" "),r("td",[t._v("每个Turms集群默认存在一个角色为“ROOT”的超级管理员角色，其具有所有权限")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("集群配置管理")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("ConfigController")]),t._v(" "),r("td",[t._v("/cluster/config")]),t._v(" "),r("td")]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("集群节点管理")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("MemberController")]),t._v(" "),r("td",[t._v("/cluster/members")]),t._v(" "),r("td")])])]),t._v(" "),r("h2",{attrs:{id:"业务相关类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#业务相关类"}},[t._v("#")]),t._v(" 业务相关类")]),t._v(" "),r("h3",{attrs:{id:"用户类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用户类"}},[t._v("#")]),t._v(" 用户类")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",{staticStyle:{"text-align":"left"}},[r("strong",[t._v("职责")])]),t._v(" "),r("th",{staticStyle:{"text-align":"left"}},[r("strong",[t._v("Controller")])]),t._v(" "),r("th",[t._v("路径")])])]),t._v(" "),r("tbody",[r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("用户信息管理")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("UserController")]),t._v(" "),r("td",[t._v("/users")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("用户在线状态管理")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("UserOnlineInfoController")]),t._v(" "),r("td",[t._v("/users/online-infos")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("用户权限组管理")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("UserPermissionGroupController")]),t._v(" "),r("td",[t._v("/users/permission-groups")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("用户关系管理")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("UserRelationshipController")]),t._v(" "),r("td",[t._v("/users/relationships")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("用户关系组管理")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("UserRelationshipGroupController")]),t._v(" "),r("td",[t._v("/users/relationships/groups")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("用户好友请求管理")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[t._v("UserFriendRequestController")]),t._v(" "),r("td",[t._v("/users/relationships/friend-requests")])])])]),t._v(" "),r("h3",{attrs:{id:"群组类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#群组类"}},[t._v("#")]),t._v(" 群组类")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("职责")]),t._v(" "),r("th",[t._v("Controller")]),t._v(" "),r("th",[t._v("路径")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("群组管理")]),t._v(" "),r("td",[t._v("GroupController")]),t._v(" "),r("td",[t._v("/groups")])]),t._v(" "),r("tr",[r("td",[t._v("群组类型管理")]),t._v(" "),r("td",[t._v("GroupTypeController")]),t._v(" "),r("td",[t._v("/groups/types")])]),t._v(" "),r("tr",[r("td",[t._v("群组入群问题管理")]),t._v(" "),r("td",[t._v("GroupQuestionController")]),t._v(" "),r("td",[t._v("/groups/questions")])]),t._v(" "),r("tr",[r("td",[t._v("群组成员管理")]),t._v(" "),r("td",[t._v("GroupMemberController")]),t._v(" "),r("td",[t._v("/groups/members")])]),t._v(" "),r("tr",[r("td",[t._v("群组黑名单管理")]),t._v(" "),r("td",[t._v("GroupBlacklistController")]),t._v(" "),r("td",[t._v("/groups/blacklisted-users")])]),t._v(" "),r("tr",[r("td",[t._v("群组邀请管理")]),t._v(" "),r("td",[t._v("GroupInvitationController")]),t._v(" "),r("td",[t._v("/groups/invitations")])]),t._v(" "),r("tr",[r("td",[t._v("群组入群请求管理")]),t._v(" "),r("td",[t._v("GroupJoinRequestController")]),t._v(" "),r("td",[t._v("/groups/join-requests")])])])]),t._v(" "),r("h3",{attrs:{id:"消息类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#消息类"}},[t._v("#")]),t._v(" 消息类")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("职责")]),t._v(" "),r("th",[t._v("Controller")]),t._v(" "),r("th",[t._v("路径")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("消息管理")]),t._v(" "),r("td",[t._v("MessageController")]),t._v(" "),r("td",[t._v("/messages")])]),t._v(" "),r("tr",[r("td",[t._v("消息状态管理")]),t._v(" "),r("td",[t._v("MessageStatusController")]),t._v(" "),r("td",[t._v("/messages/statuses")])])])]),t._v(" "),r("h2",{attrs:{id:"统计"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#统计"}},[t._v("#")]),t._v(" 统计")]),t._v(" "),r("p",[t._v("当前对外暴露的统计相关接口多为Legacy API，不推荐使用。具体原因请查阅"),r("a",{attrs:{href:"https://turms-im.github.io/docs/for-developers/data-analytics.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("数据分析"),r("OutboundLink")],1),t._v("章节。")])])}),[],!1,null,null,null);e.default=v.exports}}]);