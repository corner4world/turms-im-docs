(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{442:function(t,v,_){"use strict";_.r(v);var e=_(25),p=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h4",{attrs:{id:"feed服务"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#feed服务"}},[t._v("#")]),t._v(" FEED服务")]),t._v(" "),_("p",[t._v("FEED业务指的是，好友的消息列表，美拍上的好友动态，微博就是首页的列表。FEED常用推、拉两种模式。")]),t._v(" "),_("p",[_("strong",[t._v("推模式（写扩散）：")])]),t._v(" "),_("p",[t._v("推模式写入消息的成本会比较高，相当于发一条美拍需要推给所有关注我美拍的人。推的数量取决于有多少人关注我。相反获取信息的成本非常低，只需简单的SELECT就可以取出来，推模式是基于空间去换时间的策略。")]),t._v(" "),_("p",[t._v("在这种情况下，需要考虑3个问题：")]),t._v(" "),_("p",[t._v("1）容量是否会成为瓶颈；")]),t._v(" "),_("p",[t._v("2）推送量大的情况下，会出现延迟问题；")]),t._v(" "),_("p",[t._v("3）加关注/减关注这类变更通知的成本非常高。")]),t._v(" "),_("p",[t._v("**拉模式："),_("em",[t._v("（读扩散）")])]),t._v(" "),_("p",[t._v("拉模式是和推模式相反的方式，轻量写入。获取消息，先将关注的列表取出来，再将关注的每个人反的美拍列表取出来，最终合并。这是用时间换空间，拉取需要很多计算，会影响到接口的响应时间，需要大量的计算，需要获取大量的资源，这样会造成需求的带宽增多。")]),t._v(" "),_("p",[t._v("因此，在好友多、粉丝少的情况下，推的模式最好。好友少和粉丝多的情况，比较适合拉的方式。")]),t._v(" "),_("p",[t._v("现在的SNS系统大多都是好友多，粉丝又多。在这种情况下，一些业界公司采用了推拉结合的方法，比如Twitter。普通用户（粉丝数少的用户）采用推的方式，大V采用拉的方式。")]),t._v(" "),_("p",[t._v("在发布信息的时候会通过粉丝数及其他策略包括是否在线等状况做推拉的判断。微博，公开性的微博都是基于拉的方式，私密性的功能，都是基于推的方式。")])])}),[],!1,null,null,null);v.default=p.exports}}]);