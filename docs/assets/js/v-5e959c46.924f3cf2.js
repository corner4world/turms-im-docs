(self.webpackChunkturms_docs=self.webpackChunkturms_docs||[]).push([[315],{3546:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>I});var l=r(6252);const d=(0,l.Wm)("h1",{id:"管理员api接口",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#管理员api接口","aria-hidden":"true"},"#"),(0,l.Uk)(" 管理员API接口")],-1),s=(0,l.Uk)("Turms的API文档基于"),n={href:"https://github.com/springdoc/springdoc-openapi",target:"_blank",rel:"noopener noreferrer"},a=(0,l.Uk)("Springdoc"),i=(0,l.Uk)(" 依赖实现，并采用OpenAPI 3.0标准。"),o=(0,l.Wm)("p",null,"Turms在生产环境下默认关闭OpenAPI的UI与API接口（dev profile下该接口默认开启），因此如果您需要查阅API接口文档，则您需要将dist/config/application.yaml配置文件下的springdoc.*.enabled=false属性删除。在启动turms服务端后，访问 http://localhost:8510/swagger-ui.html 即可查阅API接口。如果您需要OpenAPI标准下API接口的JSON数据，可访问 http://localhost:8510/v3/api-docs 获取。",-1),h=(0,l.Wm)("h2",{id:"接口设计准则",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#接口设计准则","aria-hidden":"true"},"#"),(0,l.Uk)(" 接口设计准则")],-1),u=(0,l.Uk)("为了让接口顾名思义，保证开发者能一目了然，turms的管理接口设计在参考"),g={href:"https://en.wikipedia.org/wiki/Representational_state_transfer",target:"_blank",rel:"noopener noreferrer"},p=(0,l.Uk)("RESTful"),m=(0,l.Uk)("设计上做了进一步优化与统一，具体遵循以下准则："),c=(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,"URL的路径部分代表目标资源（如“/users/relationships”），或是资源的表现形式（如“/users/relationships/page”表示以分页的形式返回资源）"),(0,l.Wm)("li",null,"POST方法用于Create资源，DELETE方法用于Delete资源，PUT方法用于Update资源，GET方法用于Query资源，以及比较特殊的HEAD方法用于Check资源（类似于GET，但无Response body，仅通过HTTP状态码交互）"),(0,l.Wm)("li",null,"请求的Query string用于定位资源或是附加指令。如：“?ids=1,2,3”（定位资源）或“?reset=true”（附加指令）"),(0,l.Wm)("li",null,"请求的Body用于描述要创建或更新的数据")],-1),f=(0,l.Wm)("h2",{id:"使用管理接口的对象",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#使用管理接口的对象","aria-hidden":"true"},"#"),(0,l.Uk)(" 使用管理接口的对象")],-1),b=(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"您的前端管理系统或后端服务端发出HTTP(S)请求进行调用")],-1),y=(0,l.Uk)("作为内容统计管理系统与集群监控管理系统的"),x={href:"https://github.com/turms-im/turms/tree/develop/turms-admin",target:"_blank",rel:"noopener noreferrer"},k=(0,l.Uk)("turms-admin"),C=(0,l.Uk)("使用"),W=(0,l.uE)('<p>注意：管理接口不是给终端用户使用的，而是您团队内部进行调用的。因此您通常不需要给Turms服务端开放外网IP与端口。</p><h2 id="类别" tabindex="-1"><a class="header-anchor" href="#类别" aria-hidden="true">#</a> 类别</h2><h3 id="非业务相关类" tabindex="-1"><a class="header-anchor" href="#非业务相关类" aria-hidden="true">#</a> 非业务相关类</h3><table><thead><tr><th style="text-align:left;"><strong>种类</strong></th><th style="text-align:left;"><strong>Controller</strong></th><th>路径</th><th><strong>补充</strong></th></tr></thead><tbody><tr><td style="text-align:left;">管理员管理</td><td style="text-align:left;">AdminController</td><td>/admins</td><td>每个Turms集群默认存在一个角色为“ROOT”，账号与密码均为“turms”</td></tr><tr><td style="text-align:left;">管理员角色管理</td><td style="text-align:left;">AdminRoleController</td><td>/admins/roles</td><td>每个Turms集群默认存在一个角色为“ROOT”的超级管理员角色，其具有所有权限</td></tr><tr><td style="text-align:left;">集群配置管理</td><td style="text-align:left;">ConfigController</td><td>/cluster/config</td><td></td></tr><tr><td style="text-align:left;">集群节点管理</td><td style="text-align:left;">MemberController</td><td>/cluster/members</td><td></td></tr></tbody></table><h2 id="业务相关类" tabindex="-1"><a class="header-anchor" href="#业务相关类" aria-hidden="true">#</a> 业务相关类</h2><h3 id="用户类" tabindex="-1"><a class="header-anchor" href="#用户类" aria-hidden="true">#</a> 用户类</h3><table><thead><tr><th style="text-align:left;"><strong>职责</strong></th><th style="text-align:left;"><strong>Controller</strong></th><th>路径</th></tr></thead><tbody><tr><td style="text-align:left;">用户信息管理</td><td style="text-align:left;">UserController</td><td>/users</td></tr><tr><td style="text-align:left;">用户在线状态管理</td><td style="text-align:left;">UserOnlineInfoController</td><td>/users/online-infos</td></tr><tr><td style="text-align:left;">用户权限组管理</td><td style="text-align:left;">UserPermissionGroupController</td><td>/users/permission-groups</td></tr><tr><td style="text-align:left;">用户关系管理</td><td style="text-align:left;">UserRelationshipController</td><td>/users/relationships</td></tr><tr><td style="text-align:left;">用户关系组管理</td><td style="text-align:left;">UserRelationshipGroupController</td><td>/users/relationships/groups</td></tr><tr><td style="text-align:left;">用户好友请求管理</td><td style="text-align:left;">UserFriendRequestController</td><td>/users/relationships/friend-requests</td></tr></tbody></table><h3 id="群组类" tabindex="-1"><a class="header-anchor" href="#群组类" aria-hidden="true">#</a> 群组类</h3><table><thead><tr><th>职责</th><th>Controller</th><th>路径</th></tr></thead><tbody><tr><td>群组管理</td><td>GroupController</td><td>/groups</td></tr><tr><td>群组类型管理</td><td>GroupTypeController</td><td>/groups/types</td></tr><tr><td>群组入群问题管理</td><td>GroupQuestionController</td><td>/groups/questions</td></tr><tr><td>群组成员管理</td><td>GroupMemberController</td><td>/groups/members</td></tr><tr><td>群组黑名单管理</td><td>GroupBlacklistController</td><td>/groups/blacklisted-users</td></tr><tr><td>群组邀请管理</td><td>GroupInvitationController</td><td>/groups/invitations</td></tr><tr><td>群组入群请求管理</td><td>GroupJoinRequestController</td><td>/groups/join-requests</td></tr></tbody></table><h3 id="消息类" tabindex="-1"><a class="header-anchor" href="#消息类" aria-hidden="true">#</a> 消息类</h3><table><thead><tr><th>职责</th><th>Controller</th><th>路径</th></tr></thead><tbody><tr><td>消息管理</td><td>MessageController</td><td>/messages</td></tr><tr><td>消息状态管理</td><td>MessageStatusController</td><td>/messages/statuses</td></tr></tbody></table><h2 id="统计" tabindex="-1"><a class="header-anchor" href="#统计" aria-hidden="true">#</a> 统计</h2>',12),U=(0,l.Uk)("当前对外暴露的统计相关接口多为Legacy API，不推荐使用。具体原因请查阅"),v={href:"https://turms-im.github.io/docs/for-developers/data-analytics.html",target:"_blank",rel:"noopener noreferrer"},T=(0,l.Uk)("数据分析"),P=(0,l.Uk)("章节。"),I={render:function(t,e){const r=(0,l.up)("OutboundLink");return(0,l.wg)(),(0,l.j4)(l.HY,null,[d,(0,l.Wm)("p",null,[s,(0,l.Wm)("a",n,[a,(0,l.Wm)(r)]),i]),o,h,(0,l.Wm)("p",null,[u,(0,l.Wm)("a",g,[p,(0,l.Wm)(r)]),m]),c,f,(0,l.Wm)("ul",null,[b,(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[y,(0,l.Wm)("a",x,[k,(0,l.Wm)(r)]),C])])]),W,(0,l.Wm)("p",null,[U,(0,l.Wm)("a",v,[T,(0,l.Wm)(r)]),P])],64)}}},2595:(t,e,r)=>{"use strict";r.r(e),r.d(e,{data:()=>l});const l={key:"v-5e959c46",path:"/for-developers/admin-api.html",title:"管理员API接口",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"接口设计准则",slug:"接口设计准则",children:[]},{level:2,title:"使用管理接口的对象",slug:"使用管理接口的对象",children:[]},{level:2,title:"类别",slug:"类别",children:[{level:3,title:"非业务相关类",slug:"非业务相关类",children:[]}]},{level:2,title:"业务相关类",slug:"业务相关类",children:[{level:3,title:"用户类",slug:"用户类",children:[]},{level:3,title:"群组类",slug:"群组类",children:[]},{level:3,title:"消息类",slug:"消息类",children:[]}]},{level:2,title:"统计",slug:"统计",children:[]}],filePathRelative:"for-developers/admin-api.md",git:{updatedTime:1626134545e3}}}}]);