import{_ as c,U as d,o as l,c as m,n as f,s as r,a0 as h,a1 as g,a2 as _,a3 as v,a4 as A,a5 as M,a6 as b,a7 as k,a8 as y,a9 as w,d as E,u as O,j as P,y as C,aa as D,ab as L,ac as R,ad as T}from"./chunks/framework.0882ee08.js";import{t as z}from"./chunks/theme.a0e6ceae.js";let $=1;const x={props:{dsl:{type:String,required:!0}},data:()=>({svg:"",mermaid:null,zoomed:!1,darkModeObserver:null,isDarkMode:!1}),async mounted(){this.mermaid=(await d(()=>import("./chunks/mermaid.core.9a5529a8.js").then(e=>e.b7),["assets/chunks/mermaid.core.9a5529a8.js","assets/chunks/framework.0882ee08.js"])).default,this.darkModeObserver=new MutationObserver(this.render),this.darkModeObserver.observe(document.documentElement,{attributeFilter:["class"]}),await this.render()},unmounted(){this.darkModeObserver.disconnect()},methods:{async render(){const e=document.documentElement.classList.contains("dark");this.isDarkMode=e;const t=e?"dark":"default";this.mermaid.initialize({startOnLoad:!1,theme:t});const{svg:a}=await this.mermaid.render(`diagram_${$++}`,this.dsl);this.svg=a},toggleZoom(){this.zoomed=!this.zoomed}}},S=["innerHTML"];function j(e,t,a,n,o,i){return l(),m("figure",{class:f(["mermaid-diagram",{zoomed:e.zoomed,dark:e.isDarkMode}]),onClick:t[0]||(t[0]=(...u)=>i.toggleZoom&&i.toggleZoom(...u)),innerHTML:e.svg},null,10,S)}const F=c(x,[["render",j]]),V=e=>{e.component("mermaid",F)};const B={extends:z,enhanceApp(e){const t=e.app;V(t)}};function p(e){if(e.extends){const t=p(e.extends);return{...t,...e,async enhanceApp(a){t.enhanceApp&&await t.enhanceApp(a),e.enhanceApp&&await e.enhanceApp(a)}}}return e}const s=p(B),H=E({name:"VitePressApp",setup(){const{site:e}=O();return P(()=>{C(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),D(),L(),R(),s.setup&&s.setup(),()=>T(s.Layout)}});async function I(){const e=U(),t=Z();t.provide(g,e);const a=_(e.route);return t.provide(v,a),t.component("Content",A),t.component("ClientOnly",M),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),s.enhanceApp&&await s.enhanceApp({app:t,router:e,siteData:b}),{app:t,router:e,data:a}}function Z(){return k(H)}function U(){let e=r,t;return y(a=>{let n=w(a),o=null;return n&&(e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),o=d(()=>import(n),[])),r&&(e=!1),o},s.NotFound)}r&&I().then(({app:e,router:t,data:a})=>{t.go().then(()=>{h(t.route,a.site),e.mount("#app")})});export{I as createApp};
