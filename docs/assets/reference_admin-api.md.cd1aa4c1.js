import{_ as t,o as e,c as r,Q as a}from"./chunks/framework.0882ee08.js";const p=JSON.parse('{"title":"Admin API","description":"","frontmatter":{},"headers":[],"relativePath":"reference/admin-api.md","filePath":"reference/admin-api.md"}'),s={name:"reference/admin-api.md"},o=a('<h1 id="admin-api" tabindex="-1">Admin API <a class="header-anchor" href="#admin-api" aria-label="Permalink to &quot;Admin API&quot;">​</a></h1><p>The Turms server-side API documentation follows the <a href="https://swagger.io/specification" target="_blank" rel="noreferrer">OpenAPI 3.0</a> standard and provides the current server-side OpenAPI interface documentation externally via an HTTP service.</p><p>If you need to consult the API interface documentation, you can access the API interface at <a href="http://localhost" target="_blank" rel="noreferrer">http://localhost</a>:端口号/openapi/ui after starting the Turms server. If you need the JSON format data of the API interface, you can get it by visiting <a href="http://localhost" target="_blank" rel="noreferrer">http://localhost</a>:端口号/openapi/docs. The default port number for the turms-gateway administrator HTTP server is 9510, while the turms-service uses port 8510.</p><p>Note: When deploying the Turms server to a production environment, it is usually not necessary to open the Admin API port of the Turms server to the public network to avoid unwanted attacks.</p><h2 id="interface-design-guidelines" tabindex="-1">Interface Design Guidelines <a class="header-anchor" href="#interface-design-guidelines" aria-label="Permalink to &quot;Interface Design Guidelines&quot;">​</a></h2><p>In order to make the interface as the name suggests and to ensure developers can understand it at a glance, Turms&#39; Admin API interface design refers to the <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noreferrer">RESTful</a> design style and has been further optimized and Uniformity, specifically following the following guidelines.</p><ul><li><p>The path portion of the URL represents the target resource, such as <code>/users/relationships</code>; or the representation of the resource, such as <code>/users/relationships/page</code> indicating that the resource is returned in paged form. A URI has and may only return a Response in one format.</p></li><li><p>POST method for Create resources, DELETE method for Delete resources, PUT method for Update resources, GET method for Query resources, and the more specific HEAD method for Check resources (similar to GET but without the Response body, interacting only through HTTP status codes)</p></li><li><p>The requested Query string is used to locate the resource, such as <code>?ids=1,2,3</code>; or an additional directive, such as <code>?reset=true</code></p><p>Note: Unlike the RESTful style, the Turms server does not use the request URL path (Path) for resource location. For example, <code>GET /flight-recordings/jfr</code> to download JFR file interface, in RESTful style it should be <code>GET /flight-recordings/jfr/{id}</code>, but in Turms server it is <code>GET /flight-recordings/jfr?id={id }</code></p></li><li><p>The Body of the request is used to describe the data to be created or updated</p></li></ul><h2 id="objects-that-use-the-management-interface" tabindex="-1">Objects that use the management interface <a class="header-anchor" href="#objects-that-use-the-management-interface" aria-label="Permalink to &quot;Objects that use the management interface&quot;">​</a></h2><ul><li><p>HTTP(S) request from your front-end management system or back-end server to make the call</p></li><li><p>The <a href="https://github.com/turms-im/turms/tree/develop/turms-admin" target="_blank" rel="noreferrer">turms-admin</a> used by the administrator backend to manage web projects</p></li></ul><p>Note: The administration interface is not for end-users, but for your team to make internal calls. So normally you don&#39;t need to open external IP and port for turms-service server.</p><h2 id="categories" tabindex="-1">Categories <a class="header-anchor" href="#categories" aria-label="Permalink to &quot;Categories&quot;">​</a></h2><h3 id="non-business-related-categories" tabindex="-1">Non-business Related Categories <a class="header-anchor" href="#non-business-related-categories" aria-label="Permalink to &quot;Non-business Related Categories&quot;">​</a></h3><h4 id="monitoring" tabindex="-1">Monitoring <a class="header-anchor" href="#monitoring" aria-label="Permalink to &quot;Monitoring&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Type</th><th style="text-align:left;">Controller</th><th>Path</th><th>Supported Servers</th></tr></thead><tbody><tr><td style="text-align:left;">Log Management</td><td style="text-align:left;">LogController</td><td>/logs</td><td>All</td></tr><tr><td style="text-align:left;">Metrics Management</td><td style="text-align:left;">MetricsController</td><td>/metrics</td><td>All</td></tr><tr><td style="text-align:left;">Flight Recording Management</td><td style="text-align:left;">FlightRecordingController</td><td>/flight-recordings</td><td>All</td></tr></tbody></table><h4 id="plugin" tabindex="-1">Plugin <a class="header-anchor" href="#plugin" aria-label="Permalink to &quot;Plugin&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Type</th><th style="text-align:left;">Controller</th><th>Path</th><th>Supported Servers</th></tr></thead><tbody><tr><td style="text-align:left;">Plugin Management</td><td style="text-align:left;">PluginController</td><td>/plugins</td><td>All</td></tr></tbody></table><h4 id="administrator" tabindex="-1">Administrator <a class="header-anchor" href="#administrator" aria-label="Permalink to &quot;Administrator&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Type</th><th style="text-align:left;">Controller</th><th>Path</th><th>Supported Servers</th><th>Notes</th></tr></thead><tbody><tr><td style="text-align:left;">Admin Management</td><td style="text-align:left;">AdminController</td><td>/admins</td><td>turms-service</td><td>Each Turms cluster has a default account with the role <code>ROOT</code> and the account name and password <code>turms</code></td></tr><tr><td style="text-align:left;">Admin Role Management</td><td style="text-align:left;">AdminRoleController</td><td>/admins/roles</td><td>turms-service</td><td>By default, each Turms cluster has a super administrator role with the role <code>ROOT</code> and all privileges</td></tr></tbody></table><h4 id="cluster" tabindex="-1">Cluster <a class="header-anchor" href="#cluster" aria-label="Permalink to &quot;Cluster&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Type</th><th style="text-align:left;">Controller</th><th>Path</th><th>Supported Servers</th></tr></thead><tbody><tr><td style="text-align:left;">Cluster Node Management</td><td style="text-align:left;">MemberController</td><td>/cluster/members</td><td>turms-service</td></tr><tr><td style="text-align:left;">Cluster Configuration Management</td><td style="text-align:left;">SettingController</td><td>/cluster/settings</td><td>turms-service</td></tr></tbody></table><h4 id="blocklist" tabindex="-1">Blocklist <a class="header-anchor" href="#blocklist" aria-label="Permalink to &quot;Blocklist&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Type</th><th style="text-align:left;">Controller</th><th>Path</th><th>Supported Servers</th></tr></thead><tbody><tr><td style="text-align:left;">IP Blocklist Management</td><td style="text-align:left;">IpBlocklistController</td><td>/blocked-clients/ips</td><td>turms-service</td></tr><tr><td style="text-align:left;">User Blocklist Management</td><td style="text-align:left;">UserBlocklistController</td><td>/blocked-clients/users</td><td>turms-service</td></tr></tbody></table><h4 id="user-session" tabindex="-1">User Session <a class="header-anchor" href="#user-session" aria-label="Permalink to &quot;User Session&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Type</th><th style="text-align:left;">Controller</th><th>Path</th><th>Supported Servers</th></tr></thead><tbody><tr><td style="text-align:left;">User Session Management</td><td style="text-align:left;">SessionController</td><td>/sessions</td><td>turms-gateway</td></tr></tbody></table><h3 id="business-related-categories" tabindex="-1">Business-related Categories <a class="header-anchor" href="#business-related-categories" aria-label="Permalink to &quot;Business-related Categories&quot;">​</a></h3><p>All API ports in the following table exist only on the turms-service server side. These API ports are not available on the turms-gateway server side.</p><h4 id="user" tabindex="-1">User <a class="header-anchor" href="#user" aria-label="Permalink to &quot;User&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Type</th><th style="text-align:left;">Controller</th><th>Path</th></tr></thead><tbody><tr><td style="text-align:left;">User Information Management</td><td style="text-align:left;">UserController</td><td>/users</td></tr><tr><td style="text-align:left;">User Online Info Management</td><td style="text-align:left;">UserOnlineInfoController</td><td>/users/online-infos</td></tr><tr><td style="text-align:left;">User Permission Group Management</td><td style="text-align:left;">UserPermissionGroupController</td><td>/users/permission-groups</td></tr><tr><td style="text-align:left;">User Relationship Management</td><td style="text-align:left;">UserRelationshipController</td><td>/users/relationships</td></tr><tr><td style="text-align:left;">User Relationship Group Management</td><td style="text-align:left;">UserRelationshipGroupController</td><td>/users/relationships/groups</td></tr><tr><td style="text-align:left;">User Friend Request Management</td><td style="text-align:left;">UserFriendRequestController</td><td>/users/relationships/friend-requests</td></tr></tbody></table><h4 id="group" tabindex="-1">Group <a class="header-anchor" href="#group" aria-label="Permalink to &quot;Group&quot;">​</a></h4><table><thead><tr><th>Type</th><th>Controller</th><th>Path</th></tr></thead><tbody><tr><td>Group Management</td><td>GroupController</td><td>/groups</td></tr><tr><td>Group Type Management</td><td>GroupTypeController</td><td>/groups/types</td></tr><tr><td>Group Question Management</td><td>GroupQuestionController</td><td>/groups/questions</td></tr><tr><td>Group Member Management</td><td>GroupMemberController</td><td>/groups/members</td></tr><tr><td>Group Blocklist Management</td><td>GroupBlocklistController</td><td>/groups/blocked-users</td></tr><tr><td>Group Invitation Management</td><td>GroupInvitationController</td><td>/groups/invitations</td></tr><tr><td>Group Join Request Management</td><td>GroupJoinRequestController</td><td>/groups/join-requests</td></tr></tbody></table><h4 id="chat-session" tabindex="-1">Chat Session <a class="header-anchor" href="#chat-session" aria-label="Permalink to &quot;Chat Session&quot;">​</a></h4><table><thead><tr><th>Type</th><th>Controller</th><th>Path</th></tr></thead><tbody><tr><td>Conversation Management</td><td>ConversationController</td><td>/conversations</td></tr></tbody></table><h4 id="message-classes" tabindex="-1">Message Classes <a class="header-anchor" href="#message-classes" aria-label="Permalink to &quot;Message Classes&quot;">​</a></h4><table><thead><tr><th>Type</th><th>Controller</th><th>Path</th></tr></thead><tbody><tr><td>Message Management</td><td>MessageController</td><td>/messages</td></tr></tbody></table><h2 id="statistics" tabindex="-1">Statistics <a class="header-anchor" href="#statistics" aria-label="Permalink to &quot;Statistics&quot;">​</a></h2><p>The statistics-related interfaces currently exposed to the public are mostly Legacy APIs, which are not recommended. We will adjust and refactor them later. Please refer to the chapter <a href="https://turms-im.github.io/docs/server/module/data-analytics" target="_blank" rel="noreferrer">Data Analysis</a> for specific reasons.</p><h2 id="admin-api-security" tabindex="-1">Admin API Security <a class="header-anchor" href="#admin-api-security" aria-label="Permalink to &quot;Admin API Security&quot;">​</a></h2><p>Every HTTP request sent by a user to Turms server will go through the authentication and authorization process of Turms server, which can be found in <a href="https://turms-im.github.io/docs/server/module/security#%E7%AE%A1%E7%90%86%E5%91%98%E5%AE%89%E5%85%A8" target="_blank" rel="noreferrer">Administrator Security</a>.</p>',38),l=[o];function n(i,d,h,u,c,g){return e(),r("div",null,l)}const f=t(s,[["render",n]]);export{p as __pageData,f as default};
