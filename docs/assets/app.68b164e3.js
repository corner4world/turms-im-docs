import{_ as u,J as i,o as c,c as m,n as l,d as f,M as o,a4 as h,u as g,p as _,k as v,a5 as k,a6 as A,a7 as M,a8 as b,a9 as y,aa as w,ab as E,ac as O,ad as P,ae as C,af as D,ag as L,ah as R}from"./chunks/framework.b6850781.js";import{t as T}from"./chunks/theme.c876e8ff.js";let z=1;const $={props:{dsl:{type:String,required:!0}},data:()=>({svg:"",mermaid:null,zoomed:!1,darkModeObserver:null,isDarkMode:!1}),async mounted(){this.mermaid=(await i(()=>import("./chunks/mermaid.core.3e3eefb1.js").then(e=>e.aJ),["assets/chunks/mermaid.core.3e3eefb1.js","assets/chunks/framework.b6850781.js"])).default,this.darkModeObserver=new MutationObserver(this.render),this.darkModeObserver.observe(document.documentElement,{attributeFilter:["class"]}),await this.render()},unmounted(){this.darkModeObserver.disconnect()},methods:{async render(){const e=document.documentElement.classList.contains("dark");this.isDarkMode=e;const t=e?"dark":"default";this.mermaid.initialize({startOnLoad:!1,theme:t});const{svg:a}=await this.mermaid.render(`diagram_${z++}`,this.dsl);this.svg=a},toggleZoom(){this.zoomed=!this.zoomed}}},x=["innerHTML"];function S(e,t,a,n,J,r){return c(),m("figure",{class:l(["mermaid-diagram",{zoomed:e.zoomed,dark:e.isDarkMode}]),onClick:t[0]||(t[0]=(...p)=>r.toggleZoom&&r.toggleZoom(...p)),innerHTML:e.svg},null,10,x)}const F=u($,[["render",S]]),V=e=>{e.component("mermaid",F)};const j={extends:T,enhanceApp(e){const t=e.app;V(t)}};function d(e){if(e.extends){const t=d(e.extends);return{...t,...e,async enhanceApp(a){t.enhanceApp&&await t.enhanceApp(a),e.enhanceApp&&await e.enhanceApp(a)}}}return e}const s=d(j),B=f({name:"VitePressApp",setup(){const{site:e}=g();return _(()=>{v(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),k(),A(),M(),s.setup&&s.setup(),()=>b(s.Layout)}});async function H(){const e=Z(),t=I();t.provide(y,e);const a=w(e.route);return t.provide(E,a),t.component("Content",O),t.component("ClientOnly",P),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),s.enhanceApp&&await s.enhanceApp({app:t,router:e,siteData:C}),{app:t,router:e,data:a}}function I(){return D(B)}function Z(){let e=o,t;return L(a=>{let n=R(a);return e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),o&&(e=!1),i(()=>import(n),[])},s.NotFound)}o&&H().then(({app:e,router:t,data:a})=>{t.go().then(()=>{h(t.route,a.site),e.mount("#app")})});export{H as createApp};
